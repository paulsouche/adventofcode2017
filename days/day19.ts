// DAY 19: A Series of Tubes

export const day19TestInput = [
  '    |         ',
  '    |  +--+   ',
  '    A  |  C   ',
  'F---|----E|--+',
  '    |  |  |  D',
  '    +B-+  +--+',
];

// tslint:disable:max-line-length
export const day19Input = [
  '                                                                                                                   |                                                                                     ',
  '                 +-------------------------+ +-+               +-------------+                                     |                                           +-+   +-----------------+       +-------+ ',
  '                 |                         | | |               |             |                                     |                                           | |   |                 |       |       | ',
  ' +---------------|---------------------------------------------|-------------|-------------------------------------|-------+     +-----------------------------+ |   |       +-------------------+ +-+ | ',
  ' |               |                         | | |               |             |                                     |       |     |                               |   |       |         |       | | | | | ',
  ' +---------+     |               +-----------+ +---------------|-------------|---------------+           +---------|-------|-----------------------------------------|-----------------|-------+ +-+ | | ',
  '           |     |               |         |                   |             |               |           |         |       |     |                               |   |       |         |             | | ',
  '           | +-------------------|-----------------------------|-----+       |               |           |         |       |     |                               | +-----+   +---------|---------+   | | ',
  '           | |   |               |         |                   |     |       |               |           |         |       |     |                               | | |   |             |         |   | | ',
  '   +-------------|-------------------------|-------------------|-----|-------|---------------------------------------------------|---------------------------------|-|---|-------------|-------------|-+ ',
  '   |       | |   |               |         |                   |     |       |               |           |         |       |     |                               | | |   |             |         |   |   ',
  '   |       | |   +---------------|-----+   |                   |     |       |               |           |         |   +---|-----+             +-----------------------+ |             |         |   |   ',
  '   |       | |                   |     |   |                   |     |       |               |           |         |   |   |                   |                 | | | | |             |         |   |   ',
  '   |       +-+                   |     |   |           +-------|-----|-------|-------------------------------------|---|-----------------------|-----------------|---|-|-|---+         |         |   |   ',
  '   |                             |     |   |           |       |     |       |               |           |         |   |   |                   |                 | | | | |   |         |         |   |   ',
  '   |                         +-------------------------|-------|-----------------------------------------------------------|---------------------------------------+ +-+ |   |         |         |   |   ',
  '   |                         |   |     |   |           |       |     |       |               |           |         |   |   |                   |                 |       |   |         |         |   |   ',
  '   |                         |   |     |   |           |       |     |       |               |           |         |   |   |                   |                 |       |   |         |         |   |   ',
  '   |                         |   |     |   |           |       |     |       |               |           |         |   |   |                   |                 |       |   |         |         |   |   ',
  '   |                         |   |     +---|-----------|-----+ |     |       |               |           |         |   |   |           +-------|-----------------|-------|-----------+ |         |   |   ',
  '   |                         |   |         |           |     | |     |       |               |           |         |   |   |           |       |                 |       |   |       | |         |   |   ',
  '   |                         |   |         | +---------|-----|-------|---+   |               |           |         |   |   |           +---------------------------------------------|-|---------|---|-+ ',
  '   |                         |   |         | |         |     | |     |   |   |               |           |         |   |   |                   |                 |       |   |       | |         |   | | ',
  '   |                         |   |         | |         |     | |     |   |   |               |           |         |   |   |               +-------------------+ |       |   |       | |         |   | | ',
  '   |                         |   |         | |         |     | |     |   |   |               |           |         |   |   |               |   |               | |       |   |       | |         |   | | ',
  '   |       +-----------------|---|-+       | |         +-----|-|-----|-------|---------------------------|---------|---------------------------|----F--------------------|-----+     | |         |   | | ',
  '   |       |                 |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |       |   | |     | |         |   | | ',
  '   |       |   +-+ +---------------|---------|---------------------------|---|---------------|-------------------------------------------------|-----------------|-----+ |   | |     | |         |   | | ',
  '   |       |   | | |         |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | |         |   | | ',
  '   |       |   | | |         |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | |         |   | | ',
  '   |       |   | | |         |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | |         |   | | ',
  '   |       |   | | |         |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | |         |   | | ',
  '   |       |   | | |         |   | |       | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | |         |   | | ',
  '   | +-+   +---|-|-----+     |   | +---+   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     +---------+ |   | | ',
  '   | | |       | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |       |       | |   | | ',
  '   | | |       | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |       |       | |   | | ',
  '   | | |       | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |       |       | |   | | ',
  '   | | +-------|-|-----------------+   |   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     +---+     | |   | | ',
  '   | |         | | |   |     |   | |   |   | |               | |     |   |   |               |           |         |   |   |               |   |               | |     | |   | |     | | |     | |   | | ',
  '   | |   +-------|-|---|---------|-|-----------------------------------------|---------------|-----------|---------|---|---|---------------|---|-+   +-----+   | |     | |   | |     | | |     | |   | | ',
  '   | |   |     | | |   |     |   | |   |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |     |   | |     | |   | |     | | |     | |   | | ',
  '   | |   |     | | |   |     |   | |   |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |     +-+ | |     | |   | |     | | |     | |   | | ',
  '   | |   |     | | |   |     |   | |   |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |       | | |     | P   | |     | | |     | |   | | ',
  '   | |   |     | | |   |     |   | +---|---|-|-------------------------------|---------------|-----------|-----------------|-------------------------|-----------------|-------|-------+ |     | |   | | ',
  '   | |   |     | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |       | | |     | |   | |     |   |     | |   | | ',
  '   | |   |     | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |   +-+ | | |     | |   | |     |   +-----|-|-+ | | ',
  '   | |   |     | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |   | | | | |     | |   | |     |         | | | | | ',
  '   | |   | +-----|-----------|---|---------|-|-----------------|---------|---|-------------------------------------|---|-----------------------|-|---|---|-----|---------------------|---+     | | | | | ',
  '   | |   | |   | | |   |     |   |     |   | |               | |     |   |   |               |           |         |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | | | | | ',
  '   | |   | |   | | |   |     |   |     +-----------------------|-----|-----------------------+ +---------+         |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | | | | | ',
  '   | |   | |   | | |   |     |   |         | |               | |     |   |   |                 |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | | | | | ',
  '   | |   | |   | | |   |     |   |         | |               | |     |   |   |                 |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | | | | | ',
  '   | |   | |   | | |   |     |   |         | |               | |     |   |   |                 |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | | | | | ',
  '   | |   | |   | | |   |     |   |         | |           +-----------+   |   +-----------------------------------------|-------------------|-----|---|---|-|-|---------|-----|-|-----|---|-----|---+ | | ',
  '   | |   | |   | | |   |     |   |         | |           |   | |         |                     |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | |   | | ',
  '   | |   | |   | | |   |     |   |         | |           |   | |         |                     |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | |   | | ',
  '   | |   | |   | | |   |     |   |         | |           |   | |         |                     |                   |   |   |               |   | |   |   | | | | |     | |   | |     |   |     | |   | | ',
  '   | |   | |   | | |   |     |   |   +-----+ |           |   | |         |                     +-------------------------------------------------|-----------|-|---------|-----|-----|---|-----+ |   | | ',
  '   | |   | |   | | |   |     |   |   |       |           |   | |         |                                         |   |   |               |   | |   |   | | | | |     | |   | |     |   |       |   | | ',
  '   | |   | |   | | |   |     |   |   |       |           |   | |         |                                         +---|-+ |               |   | |   |   | | | | |     | |   | |     |   |       |   | | ',
  '   | |   | |   | | |   |     |   |   |       |           |   | |         |                                             | | |               |   | |   |   | | | | |     | |   | |     |   |       |   | | ',
  '   | |   | |   | | |   |     |   |   |       |           |   | |         |                   +-----------------------------|---------------------+   |   | | | | |     | |   | |     | +-|-------|-+ | | ',
  '   | |   | |   | | |   |     |   |   |       |           |   | |         |                   |                         | | |               |   |     |   | | | | |     | |   | |     | | |       | | | | ',
  '   | |   | +-----|-|---------|---|-------+   |           |   | |         |                   |                         | | |               |   |     |   | | | | |     | |   | |     | | |       | | | | ',
  '   | |   |     | | |   |     |   |   |   |   |           |   | |         |                   |                         | | |               |   |     |   | | | | |     | |   | |     | | |       | | | | ',
  '   | |   |     | | |   |     |   | +---------|-----------|---|-----------|-------------------+                         | | |               |   |     |   | | | | |     | |   | |     | | |       | | | | ',
  '   | |   |     | | |   |     |   | | |   |   |           |   | |         |                                             | | |               |   |     |   | | | | |     | |   | |     | | |       | | | | ',
  '   | |   |     | | |   |     | +---|-|---|-------+       |   | |         |               +-------------------------------------------------|---------|-----|-|---|-----|-------+     | | |     +-----|-+ ',
  '   | |   |     | | |   |     | | | | |   |   |   |       |   | |         |               |                             | | |               |   |     |   | | | | |     | |   |       | | |     | | | |   ',
  '   | |   | +---|---|---------|-|-----|---|-------|-------|---|-|---------|---------------------------------------------|-|-----------------|---|---+ |   | | | | |     | |   |       | | |     | | | |   ',
  '   | |   | |   | | |   |     | | | | |   |   |   |       |   | |         |               |                             | | |               |   |   | |   | | | | |     | |   |       | | |     | | | |   ',
  ' +---|---|-----|---|-+ |     | | | +-|-------------------|-------------------------------|---------------+             | | |               |   +---|-|---|-|---|-|-------|---------+ | | |     | | | |   ',
  ' | | |   | |   | | | | |     | | |   |   |   |   |       |   | |         |               |               |             | | |               |       | |   | | | | |     | |   |     | | | |     | | | |   ',
  ' | | +-----|---|-|-|---|-----|---|---|-------|-----------|-----|---------|-------------------------------|-----------------------------------------|-|---+ | | | |     | |   |     | | | |     | | | |   ',
  ' | |     | |   | | | | |     | | |   |   |   |   |       |   | |         |               |               |             | | |               |       | |     | | | |     | |   |     | | | |     | | | |   ',
  ' | |     | |   | | | | |     | | |   |   |   |   |       |   | |         |               |               |             | | |               |       | |     | | | |     | |   |     | | | |     | | | |   ',
  ' | |     | |   | | | | |     | | |   |   |   |   |       |   | |         |               |               |             | | |               |       | |     | | | |     | |   |     | | | |     | | | |   ',
  ' | |   +---------|-|---|-----|---|-----------------------|---|-+         |               |               |             | | |               |       | |     | | | |     | |   |     | | | |     | | | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |               |               |             | | |               |       | |     | | | |     | |   |     | | | |     | | | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |               |               |         +-------------+         +---------|-----|-|---|-----+ |   |     | | | |     | | | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |               |               |         |   | | |     |                 | |     | | | |       |   |     | | | |     | | | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |   +-----+     |               |         |   | | |   +---------------------------|-+ | |       |   |     | | | |   +-|-+ | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |   |     |     |               |         |   | | |   | |                 | |     |   | |       |   |     | | | |   | |   | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |   |     |     | +-------------|-----------------|---|-|-----------------|-----------|-|-----+ |   |     | | | |   | |   | |   ',
  ' | |   | | |   | | | | |     | | |   |   |   |   |       |   |           |   |     |     | |             |         |   | | |   | |                 | |     |   | |     | |   |     | | | |   | |   | |   ',
  ' | |   | +-|---|-|-----|-----|---|---|---|---|-------------------------------------|-----|-|-----------------------|-----|-|-----|-------------+ +-+ |   +-|---|-+     | |   |     | | | |   | |   | |   ',
  ' | |   |   |   | | | | |     | | |   |   |   |   |       |   |           |   |     |     | |             |         |   | | |   | |             | |   |   | |   |       | |   |     | | | |   | |   | |   ',
  ' | |   +---+   | | | | |     | | |   |   |   |   |       |   |           |   |     |     | |             |         |   | | |   | |           +---|-T |   | |   |       | |   |     | | | |   | |   | |   ',
  ' | |           | | | | |     | | |   |   |   |   |       |   |           |   |     |     | |             |         |   | | |   | |           | | |   |   | |   |       | |   |     | | | |   | |   | |   ',
  ' | |           | | | | |     | | |   +---|-------|-+     |   | +---------|-------------------------------|-------------|-|-----|-|-----+     | | | +-----------|-------+ |   |     | | | |   | | +-|---+ ',
  ' | |           | | | | |     | | |       |   |   | |     |   | |         |   |     |     | |             |         |   | | |   | |     |     | | | | |   | |   |         |   |     | | | |   | | | | | | ',
  ' | |   +-+     | | | | |     | | |       |   |   | |     |   | |         |   |     +-------|-----------------------|-----|-------|-----|-----|-|-|-|-|---|-----|---------------------|---|-+ | | | | | | ',
  ' | |   | |     | | | | |     | | |       |   |   | |     |   | |         |   |           | |             |         |   | | |   | |     |     | | | | |   | |   |         |   |     | | | | | | | | | | | ',
  ' | |   | |     | | | | |     | | |       |   |   | |     |   | |         |   |           | |             |         |   | | |   | |     |     | | | | | +-|-----|-------------|-----|---|-|-+ | | | | | | ',
  ' | |   | |     | | | | |     | | |       |   |   | |     |   | |         |   |           | |             |         |   | | |   | |     |     | | | | | | | |   |         |   |     | | | |   | | | | | | ',
  ' | |   | |     | | | | |     | | |       |   |   | |     |   | |         |   | +---------|-|-----------------------|---|---|---|-------|-------|-|-----+ | |   |       +-----|-----|-|-|-|-+ | | | | | | ',
  ' | |   | |     | | | | |     | | |       |   |   | |     |   | |         |   | |         | |             |         |   | | |   | |     |     | | | | |   | |   |       | |   |     | | | | | | | | | | | ',
  ' +-+   | | +---|-----|-|-------|-|-------|-------|-----------|---------------------------------------------------------|-|-|-----|-+   |     | | | | |   | |   |       | |   |     | | | | | | | | | | | ',
  '       | | |   | | | | |     | | |       |   |   | |     |   | |         |   | |         | |             |         |   | | |   | | |   |     | | | | |   | |   |       | |   |     | | | | | | | | | | | ',
  '   +-------|---|-------------|-|---------|---+   | |     |   | |         |   | |         | |     +---------------------|-|-|-------|---------|-+ | | |   | | +-|-------+ |   |     | +---------|-|-----+ ',
  '   |   | | |   | | | | |     | | |       |       | |     |   | |         |   | |         | |     |       |         |   | | |   | | |   |     |   | | |   | | | |         |   |     |   | | | | | | | |   ',
  ' +-----|---------|-|-|-------|---|-----------------------|-------------+ |   | |         | |     |       |         |   | | |   | | |   |     |   | +-------|-|-|-------------------|---|-|-|-----+ | |   ',
  ' | |   | | |   | | | | |     | | |       |       | |     |   | |       | |   | |         | |     |       |         |   | | |   | | |   |     |   |   |   | | | |         |   |     |   | | | | |   | |   ',
  ' | +-----|-|-+ | | | | |     | | |       |   +---|-|---------|-|-------|-----|---------------------------|---------+   | | |   | | |   |     | +-|---|-----|-------+     |   |     | +-|-|-------+ | |   ',
  ' |     | Y | | | | | | |     | | |       |   |   | |     |   | |       | |   | |         | |     |       |             | | |   | | |   |     | | |   |   | | | |   |     |   |     | | | | | | | | | |   ',
  ' |     | | | | | | | | |     | | |       |   |   | |     | +-------------|-----|-----------|-----|-------|---------+   | | |   | +-|-------------|-------|-|-|-|---|---------------|---|---|-|-|---|-|-+ ',
  ' |     | | | | | | | | |     | | |       |   |   | |     | | | |       | |   | |         | |     |       |         |   | | |   |   |   |     | | |   |   | | | |   |     |   |     | | | | | | | | | | | ',
  ' |     | | | | | | | | |     | | |       |   |   | |     | | | |       | |   +-|-----------------------------------|---|---|---|-------|-------|---------|-|---|-------------|-----|-+ | | | | | | | | | ',
  ' |     | | | | | | | | |     | | |       |   |   | |     | | | |       | |     |         | |     |       |         |   | | |   |   |   |     | | |   |   | | | |   |     |   |     |   | | | | | | | | | ',
  ' |     | | | | | | | | |     | +-|-------|---------|-----|-|-|-|-------|-----------------|-------|-----------------|-------|-----+ |   |     | | |   |   | | | |   |     |   |     | +---|---|-|-+ | | | ',
  ' |     | | | | | | | | |     |   |       |   |   | |     | | | |       | |     |         | |     |       |         |   | | |   | | |   |     | | |   |   | | | |   |     |   |     | | | | | | |   | | | ',
  ' |     | | | +-----|---|-------+ |     +-+   |   | |     | | | |     +---|-----|-------------------------------+   |   | | |   | | |   |     | +---+ |   | | +-|-------------|-----|---|-|---|-|---|-|-+ ',
  ' |     | | |   | | | | |     | | |     |     |   | |     | | | |     | | |     |         | |     |       |     |   |   | | |   | | |   |     |   | | |   | |   |   |     |   |     | | | | | | |   | |   ',
  ' |     | | | +---|-----|-------|-|-----------+   | |     | | | |     | | |     |         | |     |       +---------|-----|-----|---|---------------|-----|-|---|---|---------|-----|-----|-----|-------+ ',
  ' |     | | Z | | | | | |     | | |     |         | |     | | | |     | | |     |         | |     |             |   |   | | |   | | |   |     |   | | |   | |   |   |     |   |     | | | | | | |   | | | ',
  ' |     | | | | | | | | |     | | |     |         | |     | | +---------|-|-----|---------|-|-----|-------+     |   |   | | |   | | |   |     |   | | |   +-|-------|-----|---------|-+ | | | | |   | | | ',
  ' |     | | | | | | | | |     | | |     |         | |     | |   |     | | |     |         | |     |       |     |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | | | | |   | | | ',
  ' |     | | | | | | | | |     | +-|-----------------|-----|-|--------M--+ |     |         | |     |       |     |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | | | | |   | | | ',
  ' |     | | | | | | | | |     |   |     |         | |     | |   |     |   |     |         | |     |       |     |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | | | | |   | | | ',
  ' |     | | | | | | | | |     |   +-----|---------|-----------------------|-----|-----------------|---------+   |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | | +-|-|-+ | | | ',
  ' |     | | | | | | | | |     |         |         | |     | |   |     |   |     |         | |     |       | |   |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | |   | | | | | | ',
  ' |     | | | | | | | | |   +---------------------|-------|---------------|-----|-------+ | |     |       | |   |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | |   | | | | | | ',
  ' |     | | | | | | | | |   | |         |         | |     | |   |     |   |     |       | | |     |       | |   |   |   | | |   | | |   |     |   | | |     |   |   |     |   |     |   | |   | | | | | | ',
  ' |     | | | | | | | | +-------+       |         | |     | |   |     |   |     |       | +---------------------|---|---|-------|-|-----|-----|---|-|-|---+ |   |   |     |   |     |   | |   | | | | | | ',
  ' |     | | | | | | | |     | | |       |         | |     | |   |     |   |     |       |   |     |       | |   |   |   | | |   | | |   |     |   | | |   | |   |   |     |   |     |   | |   | | | | | | ',
  ' |   +-----|---------+ +---|---|-----------------|-------|-----|---------|-----------------|-------------|-----|-----------+   | | +---|---------|-|-|---|-|---|---|---------------+   | |   | | | | | | ',
  ' |   | | | | | | | |   |   | | |       |         | |     | |   |     |   |     |       |   |     |       | |   |   |   | |     | |     |     |   | | |   | |   |   |     |   |         | |   | | | | | | ',
  ' |   | | | | | | | |   |   | | |       |         | |     | |   |     |   +-----------------+     |       +-|-------|-------------------+     |   | | |   | |   |   |     |   |         | |   | | | | | | ',
  ' |   | | | | | | | |   |   | | |       |         | |     | |   |     |         |       |         |         |   |   |   | |     | |           |   | | |   | |   |   |     |   |         | |   | | | | | | ',
  ' | +-|---------|-----------|---|-------------------|-----|-----|-----|-----------------|---------|-------+ |   |   |   | |     | |           |   | | |   | |   |   |     |   |         | |   | | | | | | ',
  ' | | | | | | | | | |   |   | | |       |         | |     | |   |     |         |       |         |       | |   |   |   | |     | |           |   | | |   | |   |   |     |   |         | |   | | | | | | ',
  ' | | | | | | | | | |   |   | | |       |         | |   +-|-----|-----|---------------------------|---------|-------------------|-------------------|-|-+ | |   |   |     |   |         | |   | | | | | | ',
  ' | | | | | | | | | |   |   | | |       |         | |   | | |   |     |         |       |         |       | |   |   |   | |     | |           |   | | | | | |   |   |     |   |         | |   | | | | | | ',
  ' +---|-|-------|-|-----+   | | |       |         | |   | | |   +---------------|-------------------------------|---|-----------|-------------|---|-----|-|-+   |   |     |   |         | |   | | | | | | ',
  '   | | | | | | | | |       | | |       |         | |   | | |         |         |       |         |       | |   |   |   | |     | |           |   | | | | |     |   |     |   |         | |   | | | | | | ',
  '   +-|-|-----|---|-----+   | | | +-----|---------------|-----------------------|-----------------|-------|---------|-------------------------|-------|---|-----|---------|---|---+     | |   | | | | | | ',
  '     | | | | | | | |   |   | | | |     |         | |   | | |         |         |       |         |       | |   |   |   | |     | |           |   | | | | |     |   |     |   |   |     | |   | | | | | | ',
  '     | | | | | | | |   |   | | +-|---------------|-----+ | |         |         |       |         |       | |   |   |   | |     | |           |   +-|---|-|-+   |   |     |   |   +---+ | |   | | | | | | ',
  '     | | | | | | | |   |   | |   |     |         | |     | |         |         |       |         |       | |   |   |   | |     | |           |     | | | | |   |   |     |   |       | | |   | | | | | | ',
  '   +---------|---|-|-------+ |   |     |         | |     | |         |         |       |         |       +-|---|---|---|-------|-------------|---+ | | +-|-+   |   |     |   |       | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     |         | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |   |       | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     |         | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |   |       | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     |         | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |   |       | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     | +-------|-|-------|---------|-----------------|---------|---------|---|---|-----|-------------------|-------|---------|---|-----|---+       | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |           | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |           | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |   |   | |     | |           |   | | |   |     |   |     |           | | |   | | | | | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |   +-+ | |     | |     +---+ |   | +-|-------------|-----------------|---|-----|-|-+ | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |     | | |     | |     |   | |   |   |   |     |   |     |           | | |   | | |   | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |     | | |     | |     |   | |   |   |   |     |   |     +-----------|-------|-+ |   | | ',
  '   | | | | | | | | |   |     |   |     | |       | |     | |         |         |       |         |         |   |     | | |     | |     |   | |   |   |   |     |   |                 | | |   |   |   B | ',
  '   | | | | | +-|-------|-----|---------|-+       | |     | |         |   +-----|-------|---------|---------|---|-----|-|-|-----|-----------------|-------------|---------+           | | |   |   |   | | ',
  '   | | | | |   | | |   |     |   |     |         | |     | |         |   |     |       |         |         |   |     | | |     | |     |   | |   |   |   |     |   |     |           | | |   |   |   | | ',
  '   | | | | |   | | |   |     |   |     | +-------+ |     | |         |   +-------------|-------------------|---+     | | |     | |     |   | |   |   |   |     |   |     |         +-|---|-+ |   |   | | ',
  '   | | | | |   | | |   |     |   |     | |         |     | |         |         |       |         |         |         | | |     | |     |   | |   |   |   |     |   |     |         | | | | | |   |   | | ',
  '   | | | +-|---+ +-----|-----|---|-----|-----------+     | |         |         |       |         |       +------H------|-----+ | |     |   | |   |   |   |     |   |     |         | | | | | |   |   | | ',
  '   | | |   |       |   |     |   |     | |               | |         |         |       |         |       | |         | | |   | | |     |   | |   |   |   |     |   |     |         | | | | | |   |   | | ',
  ' +-------------+   |   |     |   |     | |               | |         |         |       |         |       | |         | | |   | | |     |   | |   +---|---------|---+     |         | | | | | |   |   | | ',
  ' | | | |   |   |   |   |     |   |     | |               | |         |         |       |         |       | |         | | |   | | |     |   | |       A   |     |         |         | | | | | |   |   | | ',
  ' +-------+ +-------|-------+ |   |     | |               | |         |         |       |         +---------|---------|-|-----|-|-|---------|-------------------+ +-----+ |         | | | | | |   |   | | ',
  '   | | | |     |   |   |   | |   |     | |               | |         |         |       |                 | |         | | |   | | |     |   | |       |   |       |     | |         | | | | | |   |   | | ',
  '   | | | |     |   |   |   | |   | +-----------------------|-----------------------+   |                 +-+         | | |   | | |     |   | |       |   |       |     | |         | | | | | |   |   | | ',
  '   | | | |     |   |   |   | |   | |   | |               | |         |         |   |   |                             | | |   | | |     |   | |       |   |       |     | |         | | | | | |   |   | | ',
  ' +-----+ |     |   |   |   | |   | |   | |               | |         |         |   |   |                             | | |   | | |     |   | |   +-------|-----+ |     | |         | | | | | |   |   | | ',
  ' | | |   |     |   |   |   | |   | |   | |               | |         |         |   |   |                             | | |   | | |     |   | |   |   |   |     | |     | |         | | | | | |   |   | | ',
  ' | | +---|-----|-----------------|-|-----|-------------------------------------|-------+                             | +-----+ | |     |   | |   +---------------------------------|-|---|-+ |   |   | | ',
  ' | |     |     |   |   |   | |   | |   | |               | |         |         |   |                                 |   |     | |     |   | |       |   |     | |     | |         | | | |   |   |   | | ',
  ' | | +---------|-------|-----------|-----------------------+         +---------|-------------------------------------|---|-----|-------------|-------|---|-----|-|-------|-----------|-+ |   |   |   | | ',
  ' | | |   |     |   |   |   | |   | |   | |               |                     |   |                                 |   |     | |     |   | |       |   |     | |     | |         | |   |   |   |   | | ',
  ' | | +-+ | +---|-------|---|-|---|-----|-|-----------------------------------------|---------------------------------|---------|-------+   | |       |   +-----+ |     | |         | |   |   |   |   | | ',
  ' | |   | | |   |   |   |   | |   | |   | |               |                     |   |                                 |   |     | |         | |       |           |     | |         | |   |   |   |   | | ',
  ' | | +-+ | |   +---|-------|-|---|-|---|-+     +-----------+                   |   |                                 |   |     | |         | |       |           |     | |         | |   |   |   |   +-+ ',
  ' | | |   | |       |   |   | |   | |   |       |         | |                   |   |                                 |   |     | |         | |       |           |     | |         | |   |   |   |       ',
  ' +---|---|-+       |   |   | +---|-----|-------|---------|-------------------------|-------------------------------------------|-------------|-------|-----------------|-------------+   |   |   |       ',
  '   | |   |         |   |   |     | |   |       |         | |                   |   |                                 |   |     | |         | |       |           |     | |         |     |   |   |       ',
  '   | +---+         |   |   |     | |   |       |         | |                   |   +---------------------------------|---|-------|---+     | | +-------------------------|---------------+   |   |       ',
  '   |               |   |   |     | |   |       |         | |                   |                                     |   |     | |   |     | | |     |           |     | |         |         |   |       ',
  '   |               |   |   |     | |   |       |         | |                   |                                     |   |     | |   |     | | |     +-----------------+ +---------|-----------------+   ',
  '   |               |   |   |     | |   |       |         | |                   |                                     |   |     | |   |     | | |                 |                 |         |   |   |   ',
  '   |               |   |   |     | |   |       |         | |                   |                                     +---|-----|-|---|-----|-----------+         |                 |         |   |   |   ',
  '   |               |   |   |     | |   |       |         | |                   |                                         |     | |   |     | | |       |         |                 |         |   |   |   ',
  '   |               |   |   |     +-----|-------|-----------|-------------------|-----------------------------------------+     | +---|-----+ | |       |         |                 |         |   |   |   ',
  '   |               |   |   |       |   |       |         | |                   |                                               |     |       | |       |         |                 |         |   |   |   ',
  '   |               |   |   |       |   +-----------------|-|-------------------------------------------+       +---------------|-----+       | |       |         |                 |     +-------+   |   ',
  '   |               |   |   |       |           |         | |                   |                       |       |               |             | |       |         |                 |     |   |       |   ',
  '   |             +-+   +---+       +-----------+         | |                   |                       |       +---------------|---------------------------------|-----------------+ +---|---------+ |   ',
  '   |             |                                       | |                   |                       |                       |             | |       |         |                   |   |   |     | |   ',
  ' +-+             | +-------------------------------------|-+                   |                       +-------------------------------------|-------------------------------------------------------+   ',
  ' |               | |                                     |                     |                                               |             | |       |         |                   |   |   |     |     ',
  ' +-----------------|-------------------------------------|---------------------|-------------------------------------------------------------|-|-----------------|-----+             +---+   |   +-|-+   ',
  '                 | |                                     |                     |                                               |             | |       |         |     |                     |   | | |   ',
  '         +-------+ |                                     |                     +---------------------------------------+     +---------------+ |       | +-------------------------------+   |   +-----+ ',
  '         |         |                                     |                                                             |     | |               |       | |       |     |                 |   |     | | | ',
  '         |         |                                     |                                       +---------------------|-------+               |       +-|-------|-------+               +---|-----|-+ | ',
  '         |         |                                     |                                       |                     |     |                 |         |       |     | |                   |     |   | ',
  ' +-------+         |                             +-------|-------------------------------------------------------------------------------------|---------|-------|-----|-+                   |     |   | ',
  ' |                 |                             |       |                                       |                     |     |                 |         |       |     |                     |     |   | ',
  ' +-------+         +-----------------------------+       +---------------------------------------|---------------------------|-----------------|---------+       |     +---------------------+   +-+ +-+ ',
  '         |                                                                                       |                     |     |                 |                 |                               |   |   ',
  '         +---------------------------------------------------------------------------------------+                     +-----+                 +-----------------+                               +---+   ',
];
// tslint:enable:max-line-length

const charReg = /[A-Z]/;

const abs: 'x' = 'x';
const ord: 'y' = 'y';

export function tube(input: string[]) {
  const maze = input.map((l) => l.split(''));
  let axis: 'x' | 'y' = ord;
  let way = 1;
  const toggleAxis = () => axis === abs ? axis = ord : axis = abs;
  const coords = {
    x: maze[0].findIndex((i) => i === '|'),
    y: 0,
  };

  const word: string[] = [];
  let endMaze = false;
  let totalSteps = 0;
  let step = 0;

  while (true) {
    coords[axis] += way;
    const char = maze[coords.y][coords.x];
    step++;
    switch (char) {
      case undefined:
        endMaze = true;
        break;
      case '+':
        toggleAxis();
        const temp = { ...coords };
        temp[axis] += way;
        if (!maze[temp.y] || !maze[temp.y][temp.x] || maze[temp.y][temp.x] === ' ') {
          way = -way;
        }
        break;
      default:
        if (charReg.test(char)) {
          totalSteps = step + 1;
          word.push(char);
        }
    }
    if (endMaze) {
      break;
    }
  }

  return {
    totalSteps,
    word: word.join(''),
  };
}
